{"version":3,"sources":["splittable/TabGroupSplit.js"],"names":["define","geom","DragBuffer","DualContainer","TabGroup","TabElement","TabContainer","TabDualContainer","TabButtonSplit","inherit","klassName","_construct","parent","placement","prototype","call","this","self","dragBorder","canSplit","canCollapse","tabArea","document","createElement","style","zIndex","position","backgroundColor","pointerEvents","tab","element","ondrop","event","preventDefault","uuid","dataTransfer","getData","get","pagePosition","x","clientX","left","y","clientY","top","size","split","LEFT","attachTab","RIGHT","TOP","BOTTOM","pop","contains","removeChild","ondragover","buffer","right","bottom","width","height","appendChild","ondragleave","direction","undefined","container","group","TabGroupSplit","orientation","HORIZONTAL","attach","VERTICAL","updateSize","elementA","attachA","elementB","attachB","console","warn","collapse","destroy","insertIndex","options","length","removeTab","index","dontDestroy","addTab","TabConstructor","closeable","button","buttons","updateInterface","push","selected","selectTab","tabs","splittable"],"mappings":"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","file":"../../splittable/TabGroupSplit.js","sourcesContent":["define([\n\t\"skylark-domx-geom\",\n\t\"skylark-widgets-base/dnd/DragBuffer\",\n\n\t\"skylark-widgets-base/panels/DualContainer\",\n\t\"../TabGroup\",\n\t\"../TabElement\",\n\t\"./TabContainer\",\n\t\"./TabDualContainer\",\n\t\"./TabButtonSplit\"\n],function(\n\tgeom, \n\tDragBuffer,\n\tDualContainer, \n\tTabGroup,\n\tTabElement,\n\tTabContainer, \n\tTabDualContainer,\n\tTabButtonSplit\n){\n\t\"use strict\";\n\n\t/**\n\t * A tab group contains and manages tab elements.\n\t *\n\t * A splitable tab group can be splited into two tab group allowing a more flexible interface organization during runtime.\n\t * \n\t * @class TabGroupSplit\n\t * @extends {TabGroup}\n\t * @param {Element} parent Parent element.\n\t */\n\n\tvar TabButtonSplit = TabGroup.inherit({\n\t\t\"klassName\" : \"TabButtonSplit\",\n\n\t\t\"_construct\" : function (parent, placement)\n\t\t{\n\t\t\tTabGroup.prototype._construct.call(this, parent, placement);\n\n\t\t\tvar self = this;\n\n\t\t\t/**\n\t\t\t * Border where another another tabs can be dragged to for this tab to be spplited.\n\t\t\t *\n\t\t\t * @property dragBorder\n\t\t\t * @type {Number}\n\t\t\t */\n\t\t\tthis.dragBorder = 0.2;\n\n\t\t\t/**\n\t\t\t * If true the group can be split in two.\n\t\t\t *\n\t\t\t * @property canSplit\n\t\t\t * @type {Boolean}\n\t\t\t */\n\t\t\tthis.canSplit = true;\n\n\t\t\t/**\n\t\t\t * If true the group can be collapsed.\n\t\t\t *\n\t\t\t * @property canCollapse\n\t\t\t * @type {Boolean}\n\t\t\t */\n\t\t\tthis.canCollapse = true;\n\n\t\t\t/**\n\t\t\t * DOM element to be displayed when a tab is dragged over.\n\t\t\t *\n\t\t\t * @property tabArea\n\t\t\t * @type {DOM}\n\t\t\t */\n\t\t\tthis.tabArea = document.createElement(\"div\");\n\t\t\tthis.tabArea.style.zIndex = \"1000\";\n\t\t\tthis.tabArea.style.position = \"absolute\";\n\t\t\tthis.tabArea.style.backgroundColor = \"rgba(0.0, 0.0, 0.0, 0.2)\";\n\t\t\tthis.tabArea.style.pointerEvents = \"none\";\n\n\t\t\t//Drag drop\n\t\t\tthis.tab.element.ondrop = function(event)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tvar uuid = event.dataTransfer.getData(\"uuid\");\n\t\t\t\tvar tab = DragBuffer.get(uuid);\n\n\t\t\t\tif(tab instanceof TabElement)\n\t\t\t\t{\n\t\t\t\t\tvar position = geom.pagePosition(self.element);\n\t\t\t\t\tvar x = event.clientX - (position.x || position.left);\n\t\t\t\t\tvar y = event.clientY - (position.y || position.top);\n\n\t\t\t\t\t//Left\n\t\t\t\t\tif(x < self.size.x * self.dragBorder)\n\t\t\t\t\t{\n\t\t\t\t\t\tself.split(TabGroup.LEFT).attachTab(tab);\n\t\t\t\t\t}\n\t\t\t\t\t//Right\n\t\t\t\t\telse if(x > self.size.x * (1 - self.dragBorder))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.split(TabGroup.RIGHT).attachTab(tab);\n\t\t\t\t\t}\n\t\t\t\t\t//Top\n\t\t\t\t\telse if(y < self.size.y * self.dragBorder)\n\t\t\t\t\t{\n\t\t\t\t\t\tself.split(TabGroup.TOP).attachTab(tab);\n\t\t\t\t\t}\n\t\t\t\t\t//Bottom\n\t\t\t\t\telse if(y > self.size.y * (1 - self.dragBorder))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.split(TabGroup.BOTTOM).attachTab(tab);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tself.attachTab(tab);\n\t\t\t\t\t}\n\n\t\t\t\t\tDragBuffer.pop(uuid);\n\t\t\t\t}\n\n\t\t\t\tif(self.tab.element.contains(self.tabArea))\n\t\t\t\t{\n\t\t\t\t\tself.tab.element.removeChild(self.tabArea);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t//Drag over\n\t\t\tthis.tab.element.ondragover = function(event)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif(!(DragBuffer.buffer[0] instanceof TabElement))\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar position = geom.pagePosition(self.element);\n\t\t\t\tvar x = event.clientX - (position.x || position.left);\n\t\t\t\tvar y = event.clientY - (position.y || position.top);\n\n\t\t\t\t//Left\n\t\t\t\tif(x < self.size.x * self.dragBorder)\n\t\t\t\t{\n\t\t\t\t\tself.tabArea.style.right = null;\n\t\t\t\t\tself.tabArea.style.bottom = null;\n\t\t\t\t\tself.tabArea.style.top = \"0px\";\n\t\t\t\t\tself.tabArea.style.left = \"0px\";\n\t\t\t\t\tself.tabArea.style.width = \"50%\";\n\t\t\t\t\tself.tabArea.style.height = \"100%\";\n\n\t\t\t\t\tif(!self.tab.element.contains(self.tabArea))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.tab.element.appendChild(self.tabArea);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//Right\n\t\t\t\telse if(x > self.size.x * (1 - self.dragBorder))\n\t\t\t\t{\n\t\t\t\t\tself.tabArea.style.left = null;\n\t\t\t\t\tself.tabArea.style.bottom = null;\n\t\t\t\t\tself.tabArea.style.top = \"0px\";\n\t\t\t\t\tself.tabArea.style.right = \"0px\";\n\t\t\t\t\tself.tabArea.style.width = \"50%\";\n\t\t\t\t\tself.tabArea.style.height = \"100%\";\n\n\t\t\t\t\tif(!self.tab.element.contains(self.tabArea))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.tab.element.appendChild(self.tabArea);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//Top\n\t\t\t\telse if(y < self.size.y * self.dragBorder)\n\t\t\t\t{\n\t\t\t\t\tself.tabArea.style.right = null;\n\t\t\t\t\tself.tabArea.style.bottom = null;\n\t\t\t\t\tself.tabArea.style.top = \"0px\";\n\t\t\t\t\tself.tabArea.style.left = \"0px\";\n\t\t\t\t\tself.tabArea.style.width = \"100%\";\n\t\t\t\t\tself.tabArea.style.height = \"50%\";\n\n\t\t\t\t\tif(!self.tab.element.contains(self.tabArea))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.tab.element.appendChild(self.tabArea);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//Bottom\n\t\t\t\telse if(y > self.size.y * (1 - self.dragBorder))\n\t\t\t\t{\n\t\t\t\t\tself.tabArea.style.top = null;\n\t\t\t\t\tself.tabArea.style.right = null;\n\t\t\t\t\tself.tabArea.style.bottom = \"0px\";\n\t\t\t\t\tself.tabArea.style.left = \"0px\";\n\t\t\t\t\tself.tabArea.style.width = \"100%\";\n\t\t\t\t\tself.tabArea.style.height = \"50%\";\n\n\t\t\t\t\tif(!self.tab.element.contains(self.tabArea))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.tab.element.appendChild(self.tabArea);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(self.tab.element.contains(self.tabArea))\n\t\t\t\t\t{\n\t\t\t\t\t\tself.tab.element.removeChild(self.tabArea);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t//Drag leave\n\t\t\tthis.tab.element.ondragleave = function(event)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif(self.tab.element.contains(self.tabArea))\n\t\t\t\t{\n\t\t\t\t\tself.tab.element.removeChild(self.tabArea);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Split this tab group into two new tab groups.\n\t\t *\n\t\t * @method split\n\t\t * @param {Number} direction Direction where to insert the new tab.\n\t\t * @return {TabGroupSplit} The new created tab group.\n\t\t */\n\t\tsplit : function(direction)\n\t\t{\n\t\t\tif(this.canSplit)\n\t\t\t{\n\t\t\t\tif(direction === undefined)\n\t\t\t\t{\n\t\t\t\t\tdirection = TabGroup.RIGHT;\n\t\t\t\t}\n\n\t\t\t\tvar container = new TabDualContainer();\n\t\t\t\tvar parent = this.parent;\n\t\t\t\tvar group = new TabGroupSplit(container, this.placement);\n\n\t\t\t\tif(direction === TabGroup.RIGHT)\n\t\t\t\t{\n\t\t\t\t\tcontainer.orientation = DualContainer.HORIZONTAL;\n\t\t\t\t\tcontainer.attach(this);\n\t\t\t\t\tcontainer.attach(group);\n\t\t\t\t}\n\t\t\t\telse if(direction === TabGroup.LEFT)\n\t\t\t\t{\n\t\t\t\t\tcontainer.orientation = DualContainer.HORIZONTAL;\n\t\t\t\t\tcontainer.attach(group);\n\t\t\t\t\tcontainer.attach(this);\n\t\t\t\t}\n\t\t\t\telse if(direction === TabGroup.BOTTOM)\n\t\t\t\t{\n\t\t\t\t\tcontainer.orientation = DualContainer.VERTICAL;\n\t\t\t\t\tcontainer.attach(this);\n\t\t\t\t\tcontainer.attach(group);\n\t\t\t\t}\n\t\t\t\telse if(direction === TabGroup.TOP)\n\t\t\t\t{\n\t\t\t\t\tcontainer.orientation = DualContainer.VERTICAL;\n\t\t\t\t\tcontainer.attach(group);\n\t\t\t\t\tcontainer.attach(this);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(parent instanceof TabContainer)\n\t\t\t\t{\n\t\t\t\t\tparent.attach(container);\n\t\t\t\t\tparent.updateSize();\n\t\t\t\t}\n\t\t\t\telse if(parent instanceof DualContainer)\n\t\t\t\t{\n\t\t\t\t\tif(parent.elementA === this)\n\t\t\t\t\t{\n\t\t\t\t\t\tparent.attachA(container);\n\t\t\t\t\t\tparent.updateSize();\n\t\t\t\t\t}\n\t\t\t\t\telse if(parent.elementB === this)\n\t\t\t\t\t{\n\t\t\t\t\t\tparent.attachB(container);\n\t\t\t\t\t\tparent.updateSize();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn group;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsole.warn(\"nunuStudio: Tab is not splitable.\");\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * If the tab is in a split container, move all the tabs to the other tabgroup in the container and close this group.\n\t\t *\n\t\t * @method collapse\n\t\t */ \n\t\tcollapse : function()\n\t\t{\n\t\t\tif(this.canCollapse)\n\t\t\t{\n\t\t\t\tif(this.parent instanceof DualContainer)\n\t\t\t\t{\n\t\t\t\t\tvar parent = this.parent.parent;\n\t\t\t\t\tvar group = this.parent.elementA === this ? this.parent.elementB : this.parent.elementA;\n\n\t\t\t\t\t//Dual container\n\t\t\t\t\tif(parent instanceof DualContainer)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(parent.elementA === this.parent)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.parent.destroy();\n\t\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t\t\tparent.attachA(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(parent.elementB === this.parent)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.parent.destroy();\n\t\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t\t\tparent.attachB(group);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//Tab container\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.parent.destroy();\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t\tparent.attach(group);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tparent.updateSize();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tconsole.warn(\"nunuStudio: Tab cannot be collapsed (parent is not a dual container).\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsole.warn(\"nunuStudio: Tab is not collapsable.\");\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Attach tab to this group and remove it from the original group.\n\t\t *\n\t\t * @method attachTab\n\t\t * @param {TabElement} tab Tab to be moved.\n\t\t * @param {Number} insertIndex Index where to place the tab.\n\t\t */\n\t\tattachTab : function(tab, insertIndex)\n\t\t{\t\n\t\t\tvar container = tab.container;\n\t\t\tvar tab = TabGroup.prototype.attachTab.call(this, tab, insertIndex);\n\n\t\t\tif(container.options.length === 0)\n\t\t\t{\n\t\t\t\tcontainer.collapse();\n\t\t\t}\n\n\t\t\treturn tab;\n\t\t},\n\n\t\tremoveTab : function(index, dontDestroy)\n\t\t{\n\t\t\tTabGroup.prototype.removeTab.call(this, index, dontDestroy);\n\n\t\t\tif(this.options.length === 0 && dontDestroy !== true)\n\t\t\t{\n\t\t\t\tthis.collapse();\n\t\t\t}\n\t\t},\n\n\t\taddTab : function(TabConstructor, closeable)\n\t\t{\n\t\t\tvar tab = new TabConstructor(this.tab, closeable, this, this.options.length);\n\t\t\ttab.button = new TabButtonSplit(this.buttons, tab);\n\t\t\ttab.updateInterface();\n\n\t\t\tthis.options.push(tab);\n\n\t\t\tif(this.selected === null || this.options.length === 1)\n\t\t\t{\n\t\t\t\tthis.selectTab(tab);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.updateInterface();\n\t\t\t}\n\t\t\t\n\t\t\treturn tab;\n\t\t}\n\t});\n\n\n\n\treturn tabs.splittable.TabGroupSplit = TabGroupSplit;\n});"]}