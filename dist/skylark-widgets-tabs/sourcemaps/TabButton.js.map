{"version":3,"sources":["TabButton.js"],"names":["define","mouse","Widget","tabs","TabButton","inherit","klassName","_construct","parent","tab","prototype","call","this","self","_elm","draggable","style","cursor","boxSizing","skin","getSkin","backgroundColor","buttonColor","icon","document","createWidget","pointerEvents","position","src","appendChild","text","overflow","textAlign","textOverflow","whiteSpace","color","textColor","title","createTextNode","close","opacity","display","closeIconUrl","onmouseenter","onmouseleave","onclick","dragState","NONE","ondragstart","event","dataTransfer","setData","index","ondrop","preventDefault","borderLeft","borderRight","borderBottom","borderTop","getData","parseInt","PREVIOUS","container","moveTabIndex","NEXT","ondragover","placement","TabGroup","TOP","BOTTOM","layerX","size","x","target","layerY","y","ondragend","ondragleave","onmousedown","which","isLeftMouseButton","selectTab","closeable","isMiddleMouseButton","removeTab","buttonOverColor","isSelected","setIcon","setName","data","updateSelection","updateSize","top","left","width","height","right"],"mappings":"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","file":"../TabButton.js","sourcesContent":["define([\r\n\t\"skylark-devices-points/mouse\",\r\n\t\"skylark-widgets-base/Widget\",\r\n\t\"./tabs\"\r\n],function(\r\n\tmouse,\r\n\tWidget, \r\n\ttabs\r\n){\r\n\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Tab button is used to navigate trough tabs.\r\n\t *\r\n\t * @class TabButton\r\n\t * @extends {Widget}\r\n\t * @param {Widget} parent\r\n\t * @param {TabWidget} tab\r\n\t */\r\n\t var TabButton = Widget.inherit({\r\n\t \t\"klassName\" : \"TabButton\",\r\n\r\n\t\t\"_construct\" : function(parent, tab) {\r\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tthis._elm.draggable = true;\r\n\t\t\tthis._elm.style.cursor = \"pointer\";\r\n\t\t\tthis._elm.style.boxSizing = \"border-box\";\r\n\r\n\t\t\tvar skin = this.getSkin();\r\n\r\n\t\t\t//this._elm.style.backgroundColor = Editor.theme.buttonColor;\r\n\t\t\tthis._elm.style.backgroundColor = skin.buttonColor;\r\n\r\n\t\t\t/**\r\n\t\t\t * Pointer to the tab element related with this button.\r\n\t\t\t *\r\n\t\t\t * @property tab\r\n\t\t\t * @type {TabWidget}\r\n\t\t\t */\r\n\t\t\tthis.tab = tab;\r\n\r\n\t\t\t//Icon\r\n\t\t\tthis.icon = document.createWidget(\"img\");\r\n\t\t\tthis.icon.style.pointerEvents = \"none\";\r\n\t\t\tthis.icon.style.position = \"absolute\";\r\n\t\t\tthis.icon.src = tab.icon;\r\n\t\t\tthis._elm.appendChild(this.icon);\r\n\r\n\t\t\t//Text\r\n\t\t\tthis.text = document.createWidget(\"div\");\r\n\t\t\tthis.text.style.position = \"absolute\";\r\n\t\t\tthis.text.style.overflow = \"hidden\";\r\n\t\t\tthis.text.style.textAlign = \"center\";\r\n\t\t\tthis.text.style.pointerEvents = \"none\";\r\n\t\t\tthis.text.style.textOverflow = \"ellipsis\";\r\n\t\t\tthis.text.style.whiteSpace = \"nowrap\";\r\n\r\n\t\t\t//this.text.style.color = Editor.theme.textColor;\r\n\t\t\tthis.text.style.color = skin.textColor;\r\n\r\n\t\t\tthis._elm.appendChild(this.text);\r\n\r\n\t\t\t//Title\r\n\t\t\tthis.title = document.createTextNode(tab.title);\r\n\t\t\tthis.text.appendChild(this.title);\r\n\r\n\t\t\t//Close button\r\n\t\t\tthis.close = document.createWidget(\"img\");\r\n\t\t\tthis.close.draggable = false;\r\n\t\t\tthis.close.style.position = \"absolute\";\r\n\t\t\tthis.close.style.opacity = 0.5;\r\n\t\t\tthis.close.style.display = (tab.closeable) ? \"block\" : \"none\";\r\n\t\t\t\r\n\t\t\t//this.close.src = Global.FILE_PATH + \"icons/misc/close.png\";\r\n\t\t\tthis.close.src = skin.closeIconUrl;\r\n\t\t\t\r\n\t\t\tthis._elm.appendChild(this.close);\r\n\r\n\t\t\tthis.close.onmouseenter = function(){\r\n\t\t\t\tthis.style.opacity = 1.0;\r\n\t\t\t};\r\n\r\n\t\t\tthis.close.onmouseleave = function(){\r\n\t\t\t\tthis.style.opacity = 0.5;\r\n\t\t\t};\r\n\r\n\t\t\tthis.close.onclick = function()\t{\r\n\t\t\t\tself.tab.close();\r\n\t\t\t};\r\n\r\n\r\n\t\t\t//Drag state\r\n\t\t\tvar dragState = TabButton.NONE;\r\n\r\n\t\t\t//Drag control\r\n\t\t\tthis._elm.ondragstart = function(event) {\r\n\t\t\t\tevent.dataTransfer.setData(\"tab\", self.tab.index);\r\n\t\t\t\tdragState = TabButton.NONE;\r\n\t\t\t};\r\n\r\n\t\t\t//Drag drop\r\n\t\t\tthis._elm.ondrop = function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tthis.style.borderLeft = null;\r\n\t\t\t\tthis.style.borderRight = null;\r\n\t\t\t\tthis.style.borderBottom = null;\r\n\t\t\t\tthis.style.borderTop = null;\r\n\r\n\t\t\t\tvar index = event.dataTransfer.getData(\"tab\");\r\n\t\t\t\tif(index !== \"\") {\r\n\t\t\t\t\tindex = parseInt(index);\r\n\r\n\t\t\t\t\tif(index !== self.tab.index) {\t\r\n\t\t\t\t\t\t//Before\r\n\t\t\t\t\t\tif(dragState === TabButton.PREVIOUS) {\r\n\t\t\t\t\t\t\tself.tab.container.moveTabIndex(index, index < self.tab.index ? self.tab.index - 1 : self.tab.index);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//After\r\n\t\t\t\t\t\telse if(dragState === TabButton.NEXT){\r\n\t\t\t\t\t\t\tself.tab.container.moveTabIndex(index, index < self.tab.index ? self.tab.index : self.tab.index + 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t//Drag over\r\n\t\t\tthis._elm.ondragover = function(event)\r\n\t\t\t{\r\n\t\t\t\tif(self.tab.container.placement === TabGroup.TOP || self.tab.container.placement === TabGroup.BOTTOM)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(event.layerX > self.size.x * 0.8 || event.target !== this)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(dragState !== TabButton.NEXT)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdragState = TabButton.NEXT;\r\n\t\t\t\t\t\t\tthis.style.borderLeft = null;\r\n\t\t\t\t\t\t\tthis.style.borderRight = \"thick solid #999999\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(event.layerX < self.size.x * 0.2)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(dragState !== TabButton.PREVIOUS)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdragState = TabButton.PREVIOUS;\r\n\t\t\t\t\t\t\tthis.style.borderRight = null;\r\n\t\t\t\t\t\t\tthis.style.borderLeft = \"thick solid #999999\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(dragState !== TabButton.NONE\t)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdragState = TabButton.NONE;\r\n\t\t\t\t\t\t\tthis.style.borderLeft = null;\r\n\t\t\t\t\t\t\tthis.style.borderRight = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif(event.layerY > self.size.y * 0.7 || event.target !== this)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(dragState !== TabButton.NEXT)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdragState = TabButton.NEXT;\r\n\t\t\t\t\t\t\tthis.style.borderTop = null;\r\n\t\t\t\t\t\t\tthis.style.borderBottom = \"solid #999999\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(event.layerY < self.size.y * 0.3)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(dragState !== TabButton.PREVIOUS)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdragState = TabButton.PREVIOUS;\r\n\t\t\t\t\t\t\tthis.style.borderBottom = null;\r\n\t\t\t\t\t\t\tthis.style.borderTop = \"solid #999999\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(dragState !== TabButton.NONE\t)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdragState = TabButton.NONE;\r\n\t\t\t\t\t\t\tthis.style.borderBottom = null;\r\n\t\t\t\t\t\t\tthis.style.borderTop = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t//Drag end\r\n\t\t\tthis._elm.ondragend = function(event){\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\r\n\t\t\t\tdragState = TabButton.NONE;\r\n\t\t\t\tthis.style.borderLeft = null;\r\n\t\t\t\tthis.style.borderRight = null;\r\n\t\t\t\tthis.style.borderBottom = null;\r\n\t\t\t\tthis.style.borderTop = null;\r\n\t\t\t};\r\n\r\n\t\t\t//Drag leave\r\n\t\t\tthis._elm.ondragleave = function(event)\t{\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\r\n\t\t\t\tdragState = TabButton.NONE;\r\n\t\t\t\tthis.style.borderLeft = null;\r\n\t\t\t\tthis.style.borderRight = null;\r\n\t\t\t\tthis.style.borderBottom = null;\r\n\t\t\t\tthis.style.borderTop = null;\r\n\t\t\t};\r\n\r\n\t\t\tthis._elm.onmousedown = function(event)\t{\r\n\t\t\t\tvar button = event.which - 1;\r\n\r\n\t\t\t\t//Select tab\r\n\t\t\t\t//if(button === Mouse.LEFT)\r\n\t\t\t\tif(mouse.isLeftMouseButton(event))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.tab.container.selectTab(self.tab);\r\n\t\t\t\t}\r\n\t\t\t\t//Close tab\r\n\t\t\t\t//else if(tab.closeable && button === Mouse.MIDDLE)\r\n\t\t\t\telse if(tab.closeable && mouse.isMiddleMouseButton(event))\r\n\t\t\t\t{\r\n\t\t\t\t\tself.tab.container.removeTab(self.tab);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis._elm.onmouseenter = function()\t{\r\n\t\t\t\t//this.style.backgroundColor = Editor.theme.buttonOverColor;\r\n\t\t\t\tthis.style.backgroundColor = skin.buttonOverColor;\r\n\t\t\t};\r\n\r\n\t\t\tthis._elm.onmouseleave = function()\r\n\t\t\t{\r\n\t\t\t\tif(tab.isSelected()){\r\n\t\t\t\t\t//this.style.backgroundColor = Editor.theme.buttonOverColor;\r\n\t\t\t\t\tthis.style.backgroundColor = skin.buttonOverColor;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//this.style.backgroundColor = Editor.theme.buttonColor;\r\n\t\t\t\t\tthis.style.backgroundColor = skin.buttonColor;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set the tab icon image.\r\n\t\t *\r\n\t\t * @method setIcon\r\n\t\t * @param {String} icon URL of the icon image.\r\n\t\t */\r\n\t\tsetIcon : function(icon) {\r\n\t\t\tthis.tab.icon = icon;\r\n\t\t\tthis.icon.src = icon;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set text to be displayed in the button as its name.\r\n\t\t *\r\n\t\t * @method setName\r\n\t\t * @param {String} text\r\n\t\t */\r\n\t\tsetName : function(text) {\r\n\t\t\tthis.tab.title = text;\r\n\t\t\tthis.title.data = text;\r\n\t\t},\r\n\r\n\t\t//Update selected state of the button\r\n\t\tupdateSelection : function() {\r\n\t\t\t//this._elm.style.backgroundColor = this.tab.isSelected() ? Editor.theme.buttonOverColor : Editor.theme.buttonColor;\r\n\t\t\tvar skin = this.getSkin();\r\n\t\t\tthis._elm.style.backgroundColor = this.tab.isSelected() ? skin.buttonOverColor : skin.buttonColor;\r\n\t\t},\r\n\r\n\t\tupdateSize : function() {\r\n\t\t\tWidget.prototype.updateSize.call(this);\r\n\t\t\t\r\n\t\t\t//Icon\r\n\t\t\tthis.icon.style.top = (this.size.y * 0.2) + \"px\";\r\n\t\t\tthis.icon.style.left = (this.size.y * 0.2) + \"px\"\r\n\t\t\tthis.icon.style.width = (this.size.y * 0.6) + \"px\";\r\n\t\t\tthis.icon.style.height = (this.size.y * 0.6) + \"px\";\r\n\r\n\t\t\t//Text\r\n\t\t\tthis.text.style.left = this.size.y + \"px\";\r\n\t\t\tthis.text.style.top = ((this.size.y - 12) / 2) + \"px\";\r\n\t\t\tthis.text.style.width = (this.size.x - 2 * this.size.y) + \"px\";\r\n\t\t\tthis.text.style.height = this.size.y + \"px\";\r\n\r\n\t\t\t//Close\r\n\t\t\tif(this.tab.closeable === true) {\r\n\t\t\t\tthis.close.style.width = (this.size.y * 0.4) + \"px\";\r\n\t\t\t\tthis.close.style.height = (this.size.y * 0.4) + \"px\";\r\n\t\t\t\tthis.close.style.top = (this.size.y * 0.3) + \"px\";\r\n\t\t\t\tthis.close.style.right = (this.size.y * 0.3) + \"px\";\r\n\t\t\t\tthis.close.style.display = \"block\";\r\n\t\t\t} else \t{\r\n\t\t\t\tthis.close.style.display = \"none\";\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateSelection();\r\n\t\t}\r\n\r\n\t });\r\n\r\n\r\n\tTabButton.NONE = 0;\r\n\tTabButton.PREVIOUS = 1;\r\n\tTabButton.NEXT = 2;\r\n\r\n\r\n\treturn tabs.TabButton = TabButton;\r\n});"]}