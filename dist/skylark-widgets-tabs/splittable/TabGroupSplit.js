/**
 * skylark-widgets-tabs - The skylark tabs widgets library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-tabs/
 * @license MIT
 */
define(["skylark-domx-geom","skylark-widgets-base/dnd/DragBuffer","skylark-widgets-base/panels/DualContainer","../tabs","../TabGroup","../TabElement","./TabContainer","./TabDualContainer","./TabButtonSplit"],function(t,e,a,n,i,s,r,o,l){"use strict";var h=i.inherit({klassName:"TabGroupSplit",_construct:function(a,n){i.prototype._construct.call(this,a,n);var r=this;this.dragBorder=.2,this.canSplit=!0,this.canCollapse=!0,this.tabArea=document.createElement("div"),this.tabArea.style.zIndex="1000",this.tabArea.style.position="absolute",this.tabArea.style.backgroundColor="rgba(0.0, 0.0, 0.0, 0.2)",this.tabArea.style.pointerEvents="none",this.tab.element.ondrop=function(a){a.preventDefault();var n=a.dataTransfer.getData("uuid"),o=e.get(n);if(o instanceof s){var l=t.pagePosition(r.element),h=a.clientX-(l.x||l.left),c=a.clientY-(l.y||l.top);h<r.size.x*r.dragBorder?r.split(i.LEFT).attachTab(o):h>r.size.x*(1-r.dragBorder)?r.split(i.RIGHT).attachTab(o):c<r.size.y*r.dragBorder?r.split(i.TOP).attachTab(o):c>r.size.y*(1-r.dragBorder)?r.split(i.BOTTOM).attachTab(o):r.attachTab(o),e.pop(n)}r.tab.element.contains(r.tabArea)&&r.tab.element.removeChild(r.tabArea)},this.tab.element.ondragover=function(t){},this.tab.element.ondragleave=function(t){t.preventDefault(),r.tab.element.contains(r.tabArea)&&r.tab.element.removeChild(r.tabArea)}},split:function(t){if(this.canSplit){void 0===t&&(t=i.RIGHT);var e=new o,n=this.parent,s=new h(e,this.placement);return t===i.RIGHT?(e.orientation=a.HORIZONTAL,e.attach(this),e.attach(s)):t===i.LEFT?(e.orientation=a.HORIZONTAL,e.attach(s),e.attach(this)):t===i.BOTTOM?(e.orientation=a.VERTICAL,e.attach(this),e.attach(s)):t===i.TOP&&(e.orientation=a.VERTICAL,e.attach(s),e.attach(this)),n instanceof r?(n.attach(e),n.updateSize()):n instanceof a&&(n.elementA===this?(n.attachA(e),n.updateSize()):n.elementB===this&&(n.attachB(e),n.updateSize())),s}console.warn("nunuStudio: Tab is not splitable.")},collapse:function(){if(this.canCollapse)if(this.parent instanceof a){var t=this.parent.parent,e=this.parent.elementA===this?this.parent.elementB:this.parent.elementA;t instanceof a?t.elementA===this.parent?(this.parent.destroy(),this.destroy(),t.attachA(e)):t.elementB===this.parent&&(this.parent.destroy(),this.destroy(),t.attachB(e)):(this.parent.destroy(),this.destroy(),t.attach(e)),t.updateSize()}else console.warn("nunuStudio: Tab cannot be collapsed (parent is not a dual container).");else console.warn("nunuStudio: Tab is not collapsable.")},attachTab:function(t,e){var a=t.container;t=i.prototype.attachTab.call(this,t,e);return 0===a.items.length&&a.collapse(),t},removeTab:function(t,e){i.prototype.removeTab.call(this,t,e),0===this.items.length&&!0!==e&&this.collapse()},addTab:function(t,e){var a=new t(this.tab,e,this,this.items.length);return a.button=new l(this.buttons,a),a.updateInterface(),this.items.push(a),null===this.selected||1===this.items.length?this.selectTab(a):this.updateInterface(),a}});return n.splittable.TabGroupSplit=h});
//# sourceMappingURL=../sourcemaps/splittable/TabGroupSplit.js.map
